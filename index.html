<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>Attendance</title>

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:#fff;
}

.app{
  padding:16px;
  max-width:720px;
  margin:auto;
}

h2{
  text-align:center;
  margin:10px 0 20px;
}

input,button{
  font-size:16px;
  padding:14px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.1);
  background:rgba(255,255,255,.65);
}

button:active{
  transform:scale(.96);
}

.top{
  display:flex;
  gap:8px;
}

input{flex:1}

.card{
  margin-top:14px;
  padding:14px;
  border-radius:16px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.65);
}

.subject{
  font-weight:600;
}

.count{
  font-size:13px;
  color:#666;
  margin:6px 0;
}

.actions{
  display:flex;
  gap:8px;
}

.present{color:#34c759}
.absent{color:#ff3b30}
</style>
</head>

<body>
<div class="app">
  <h2>Attendance</h2>

  <div class="top">
    <input id="subjectInput" placeholder="Add subject">
    <button id="addBtn">＋</button>
  </div>

  <div id="list"></div>
</div>

<script>
(function(){
  const input = document.getElementById("subjectInput");
  const addBtn = document.getElementById("addBtn");
  const list = document.getElementById("list");

  let data = JSON.parse(localStorage.getItem("attendance")) || [];

  function save(){
    localStorage.setItem("attendance", JSON.stringify(data));
  }

  function render(){
    list.innerHTML = "";
    data.forEach(function(s, i){
      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <div class="subject">${s.name}</div>
        <div class="count">✔ ${s.p} | ✖ ${s.a}</div>
        <div class="actions">
          <button class="present">Present</button>
          <button class="absent">Absent</button>
        </div>
      `;

      card.querySelector(".present").onclick = function(){
        s.p++;
        save(); render();
      };

      card.querySelector(".absent").onclick = function(){
        s.a++;
        save(); render();
      };

      list.appendChild(card);
    });
  }

  addBtn.onclick = function(){
    const name = input.value.trim();
    if(!name) return;
    data.push({name:name, p:0, a:0});
    input.value="";
    save(); render();
  };

  render();
})();
</script>
</body>
</html>
